---
import Layout from "../layouts/Layout.astro";
import Sponsors from "@/sections/Sponsors.astro";
import LiveStream from "@/components/LiveStream.astro";
import VoteCallToAction from "@/components/VoteCallToAction.astro";
import NewsOnPage from "@/sections/NewsOnPage.astro";
import { FeaturedNews } from "@/components/FeaturedNews";
import Advantages from "@/sections/Advantages.astro";
import Required2FA from "@/components/admin/Required2FA.astro";
import { LucideChevronsDown } from "lucide-preact";

const IS_PROD = import.meta.env.PROD;

export const prerender = true;
---

<Layout
  title="Comunidad SaltoUruguayServer"
  description="Te damos la bienvenida a la comunidad del canal de SaltoUruguayServer en Twitch. ¡Los #SaltoAwards2025 será un evento inolvidable!"
>
  <main class="w-full text-white">
    <section
      id="hero"
      class="relative w-full min-h-dvh -mt-24 flex flex-col items-center justify-center overflow-hidden"
    >
      <div
        class="relative z-10 flex flex-col items-center gap-10 px-4 max-w-7xl mx-auto text-center"
      >
        {/* Alertas Superiores */}
        <div
          class="flex flex-col gap-3 animate-fade-in-down items-center w-full max-w-md"
        >
          <Required2FA server:defer />
          <VoteCallToAction server:defer />
        </div>

        <header
          class="flex flex-col md:flex-row items-center justify-center gap-8"
        >
          {/* Logo */}
          <div class="relative group animate-fade-in">
            <img
              src="/favicon.svg"
              alt="SaltoUruguayServer Logo"
              draggable="false"
              fetchpriority="high"
              loading="eager"
              class="h-32 md:h-48 w-auto object-contain drop-shadow-2xl transition-transform duration-500 group-hover:scale-105"
            />
          </div>

          {/* Títulos */}
          <div
            class="flex flex-col items-center md:items-start text-center md:text-left space-y-1 animate-fade-in-up"
          >
            <h1
              class="text-5xl sm:text-6xl md:text-7xl lg:text-8xl font-anton tracking-tight text-white drop-shadow-lg"
            >
              SALTO URUGUAY
            </h1>
            <h2
              class="text-xl md:text-3xl font-anton tracking-wide uppercase text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-500"
            >
              Server Community
            </h2>
          </div>
        </header>
      </div>

      {/* Indicador de Scroll */}
      <div
        class="absolute bottom-0 animate-bouncing animate-iteration-count-infinite text-white/30"
      >
        <LucideChevronsDown size={32} />
      </div>
    </section>

    {/* RESTO DEL CONTENIDO */}
    <div
      class="relative z-10 flex flex-col gap-24 pb-20 px-4 max-w-7xl mx-auto"
    >
      <div id="stream-section" class="scroll-mt-32">
        <LiveStream server:defer />
      </div>

      <FeaturedNews client:visible />

      <Advantages />

      <NewsOnPage />

      <Sponsors />
    </div>
  </main>
</Layout>

<style>
  /* Animaciones CSS Puras */
  .animate-fade-in {
    animation: fadeIn 1s ease-out forwards;
  }

  .animate-fade-in-down {
    animation: fadeInDown 1s ease-out forwards;
  }

  .animate-fade-in-up {
    opacity: 0;
    animation: fadeInUp 1s ease-out 0.3s forwards;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  @keyframes fadeInDown {
    from {
      opacity: 0;
      transform: translateY(-20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
</style>
