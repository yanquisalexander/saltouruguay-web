---
import Layout from "../layouts/Layout.astro";
import Sponsors from "@/sections/Sponsors.astro";
import LiveStream from "@/components/LiveStream.astro";
import VoteCallToAction from "@/components/VoteCallToAction.astro";
import NewsOnPage from "@/sections/NewsOnPage.astro";
import { FeaturedNews } from "@/components/FeaturedNews";
import Advantages from "@/sections/Advantages.astro";
import Required2FA from "@/components/admin/Required2FA.astro";
import { LucideChevronsDown } from "lucide-preact";

const IS_PROD = import.meta.env.PROD;

export const prerender = true;
---

<Layout
  title="Comunidad SaltoUruguayServer"
  description="Te damos la bienvenida a la comunidad del canal de SaltoUruguayServer en Twitch. ¡Los #SaltoAwards2025 será un evento inolvidable!"
>
  <main class="w-full text-white">
    <section
      id="hero"
      class="relative w-full flex flex-col items-center h-dvh overflow-hidden"
    >
      <div
        class="relative z-10 flex flex-col items-center gap-8 px-4 max-w-5xl mx-auto text-center"
      >
        <div class="flex flex-col gap-4 animate-fade-in-down items-center">
          <Required2FA server:defer />
          <VoteCallToAction server:defer />
        </div>

        <header
          class="flex flex-col md:flex-row items-center gap-8 md:gap-12 mt-4"
        >
          <div class="relative group animate-fade-in">
            <img
              src="/favicon.svg"
              alt="SaltoUruguayServer Logo"
              draggable="false"
              fetchpriority="high"
              loading="eager"
              class="h-32 md:h-40 w-auto object-contain drop-shadow-[0_0_25px_rgba(255,255,255,0.1)] transition-transform duration-500 group-hover:scale-110"
            />
          </div>

          <div
            class="flex flex-col items-center md:items-start animate-fade-in-up"
          >
            <h1
              class="text-5xl md:text-7xl font-anton text-white tracking-wide drop-shadow-xl text-balance"
            >
              SALTO URUGUAY
            </h1>
            <h2
              class="text-2xl md:text-4xl font-anton text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-500"
            >
              SERVER COMMUNITY
            </h2>
          </div>
        </header>
      </div>
    </section>
    <div
      class="absolute bottom-10 mx-auto left-1/2 animate-bounce text-white/30"
    >
      <LucideChevronsDown size={32} />
    </div>

    <div
      class="relative z-10 flex flex-col gap-24 pb-20 px-4 max-w-7xl mx-auto"
    >
      <div id="stream-section" class="scroll-mt-24">
        <LiveStream server:defer />
      </div>

      <FeaturedNews client:visible />

      <Advantages />

      <NewsOnPage />

      <Sponsors />
    </div>
  </main>
</Layout>

<style>
  /* Animaciones simples de entrada (CSS puro, sin scripts complejos) */
  .animate-fade-in {
    animation: fadeIn 1s ease-out forwards;
  }

  .animate-fade-in-down {
    animation: fadeInDown 1s ease-out forwards;
  }

  .animate-fade-in-up {
    opacity: 0;
    animation: fadeInUp 1s ease-out 0.3s forwards; /* Delay ligero */
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  @keyframes fadeInDown {
    from {
      opacity: 0;
      transform: translateY(-20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
</style>
