---
import Layout from "@/layouts/Layout.astro";
import {
  LucideHome,
  LucideArrowLeft,
  LucideAlertTriangle,
} from "lucide-preact";

const preload = [
  {
    as: "image",
    href: "/images/404-salto.webp",
    type: "image/webp",
  },
];
---

<Layout
  title="404 - Zona Desconocida"
  preload={preload}
  hideHeader
  hideFooter
  mainClassname="flex flex-col items-center justify-center min-h-dvh w-full relative overflow-hidden"
>
  {/* --- FONDO AMBIENTAL --- */}
  <div class="fixed inset-0 -z-20 bg-[#050505]">
    <div
      class="absolute inset-0 bg-[url('/images/pattern-grid.svg')] opacity-[0.03]"
    >
    </div>
    {/* Spotlights de error */}
    <div
      class="absolute top-0 left-1/4 w-[500px] h-[500px] bg-purple-900/10 blur-[150px] rounded-full pointer-events-none animate-pulse-slow"
    >
    </div>
    <div
      class="absolute bottom-0 right-1/4 w-[500px] h-[500px] bg-red-900/10 blur-[150px] rounded-full pointer-events-none animate-pulse-slow"
      style="animation-delay: 1s;"
    >
    </div>
  </div>

  <div class="relative z-10 flex flex-col items-center text-center p-6">
    {/* --- COMPOSICIÓN VISUAL (404 + IMAGEN) --- */}
    <div class="relative mb-8">
      {/* Texto 404 Gigante de Fondo */}
      <h1
        class="font-anton text-[10rem] sm:text-[14rem] leading-none text-white/[0.03] select-none absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-0 tracking-tighter"
      >
        404
      </h1>

      {/* Imagen Flotante */}
      <div class="relative z-10 animate-float">
        <div
          class="absolute inset-0 bg-purple-500/20 blur-2xl rounded-full scale-75 animate-pulse"
        >
        </div>
        <img
          src="/images/404-salto.webp"
          alt="Personaje perdido"
          class="relative h-40 sm:h-52 w-auto object-contain drop-shadow-[0_0_30px_rgba(168,85,247,0.4)]"
        />
      </div>
    </div>

    {/* --- TEXTOS --- */}
    <div class="space-y-4 max-w-md mx-auto relative z-20">
      <div
        class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-red-500/10 border border-red-500/20 text-red-400 text-xs font-bold uppercase tracking-widest mb-2"
      >
        <LucideAlertTriangle size={14} /> Error de Navegación
      </div>

      <h2
        class="text-4xl sm:text-5xl font-anton text-white uppercase tracking-wide"
      >
        ¡Te has <span
          class="text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-500"
          >Perdido!</span
        >
      </h2>

      <p class="text-white/50 font-rubik text-lg leading-relaxed">
        Parece que este mapa no existe o te has salido de los límites del
        servidor. Regresa a la base antes de que sea tarde.
      </p>
    </div>

    {/* --- ACCIONES --- */}
    <div class="flex flex-col sm:flex-row gap-4 mt-10 relative z-20">
      <button
        onclick="history.back()"
        class="group px-6 py-3 rounded-xl bg-white/5 hover:bg-white/10 border border-white/10 text-white font-bold flex items-center justify-center gap-2 transition-all hover:-translate-x-1"
      >
        <LucideArrowLeft
          size={20}
          className="text-white/50 group-hover:text-white transition-colors"
        />
        <span>Volver atrás</span>
      </button>

      <a
        href="/"
        class="group px-8 py-3 rounded-xl bg-white text-black hover:bg-purple-400 font-bold flex items-center justify-center gap-2 transition-all shadow-[0_0_20px_rgba(255,255,255,0.2)] hover:shadow-[0_0_30px_rgba(168,85,247,0.4)] hover:-translate-y-1"
      >
        <LucideHome size={20} />
        <span>Ir al Inicio</span>
      </a>
    </div>
  </div>

  {/* Decoración estilo Glitch/Código en el fondo */}
  <div
    class="absolute bottom-10 left-10 hidden md:block text-[10px] font-mono text-white/10 leading-tight select-none pointer-events-none text-left"
  >
    ERR_CONNECTION_LOST<br />
    LOCATION: UNKNOWN_BIOME<br />
    STATUS: CRITICAL<br />
    TRY_RECONNECT...
  </div>
</Layout>

<style>
  @keyframes float {
    0%,
    100% {
      transform: translateY(0px);
    }
    50% {
      transform: translateY(-15px);
    }
  }
  .animate-float {
    animation: float 6s ease-in-out infinite;
  }

  @keyframes pulse-slow {
    0%,
    100% {
      opacity: 0.1;
    }
    50% {
      opacity: 0.2;
    }
  }
  .animate-pulse-slow {
    animation: pulse-slow 8s ease-in-out infinite;
  }
</style>
